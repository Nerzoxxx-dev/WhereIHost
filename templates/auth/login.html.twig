{% extends 'auth/auth.html.twig' %}

{% block title %}{{ 'auth.login.title'|trans({'%title%': appname|capitalize}, 'auth') }}{% endblock %}

{% block body %}
<script type="text/javascript" src="{{ asset('js/alert.js') }}" />
<script></script>
{% if not lastEmail is defined %}
    {% set lastEmail = "" %}
{% endif %}
{% if errors is defined and errors and not success is defined %}
    <script> cuteToast('error', "{{ errors }}") </script>
{% endif %}
{% if success is defined and success %}
    <script> cuteToast('success', "{{ success }}")
             setTimeout(() => {
                 window.location = '/'
             }, 5000)
    </script>
{% endif %}

  <img class="wave" src="{{ asset('img/wave.png') }}" alt="waves">
    <div class="container">
        <div class="img">
            <img src="{{ asset('img/bg.svg') }}" alt="Background">
        </div>
        <div class="login-container">
            <form class="login-form" method="POST" action="/auth/login">
                <img class="avatar" src="{{ asset('img/avatar.svg') }}" alt="Avatar">
                <h2>{{ 'welcome'|trans({}, 'base')|capitalize }} !</h2>
                <div class="input-div one">
                    <div class="i">
                        <i class="fas fa-at"></i>
                    </div>
                    <div>
                        <h5>{{ 'email'|trans({}, 'base')|capitalize }}</h5>
                        <input class="input" type="email" name="email" id="email" value="{{ lastEmail }}">
                    </div>
                </div>
                <div class="input-div one">
                    <div class="i">
                        <i class="fas fa-lock"></i>
                    </div>
                    <div>
                        <h5>{{ 'password'|trans({}, 'base')|capitalize }}</h5>
                        <input class="input" type="password" name="password" id="password" value="">
                    </div>
                </div>
                <a href="/auth/password" class="links-auth"> {{ 'reset_password'|trans({}, 'base')|capitalize }} </a>
                <a href="/auth/register" class="links-auth"> {{ 'not_an_account'|trans({}, 'base')|capitalize }} </a>
                <input type="submit" class="btn" value="{{ 'login'|trans({}, 'base')|capitalize }}">
            </form>
        </div>
    </div>
    <script type="text/javascript" src="{{ asset('js/auth/auth.js') }}"></script>
{% endblock %}